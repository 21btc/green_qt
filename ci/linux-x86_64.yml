linux-x86_64:build-appimage:
  image: borgbyte/green_qt:linux-x86_64@sha256:b6b688ea2d754c0e3aa9e3cd1c166005775e758765a2a0e3b949ff284824634f
  extends:
    - .build
  tags:
    - qt
    - linux-x86_64
  after_script:
    - tools/appimage.sh $CI_PROJECT_DIR
  artifacts:
    name: "$CI_PROJECT_NAME-$CI_JOB_NAME-$CI_COMMIT_SHORT_SHA"
    paths:
      - BlockstreamGreen-x86_64.AppImage

linux-x86_64:build-binary:
  image: borgbyte/green_qt:linux-x86_64@sha256:b6b688ea2d754c0e3aa9e3cd1c166005775e758765a2a0e3b949ff284824634f
  variables:
    GREEN_WAYLAND: "ON"
  extends:
    - .build
  tags:
    - qt
    - linux-x86_64
  artifacts:
    name: "$CI_PROJECT_NAME-$CI_JOB_NAME-$CI_COMMIT_SHORT_SHA"
    paths:
      - green
